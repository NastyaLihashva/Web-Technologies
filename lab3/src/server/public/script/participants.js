"use strict";$(document).ready(function(){function n(t){$("tbody").html(""),t.forEach(function(t){$("tbody").append('\n                <tr class="table__row">\n                    <td class="table__id table__cell">'.concat(t.id,'</td>\n                    <td class="table-name table__cell">').concat(t.name,'</td>\n                    <td class="table-capital table__cell">').concat(t.capital,'</td>\n                    </td><td class="table-address table__cell">').concat(t.address,'</td>\n                    <td class="table__cell">\n                        <div class="table__actions">\n                            <button class="button action-change">Изменить</button>\n                            <button class="button action-remove">Удалить</button>\n                        </div>\n                    </td>\n                </tr>\n            '))})}$.get("".concat(window.location.href,"/actual"),function(t){n(t)}),$("#participant__form").submit(function(t){t.preventDefault();var a=new FormData(t.target),a=Object.fromEntries(a);console.log($(t.target).attr("data-type")),$.ajax({type:$(t.target).attr("data-type"),url:window.location.href,data:JSON.stringify(a),dataType:"json",contentType:"application/json"}).done(function(t){$(".modal__form").trigger("reset"),$("#modal").css("display","none"),n(t)})}),$(".btn-addItem").on("click",function(t){$("#modal").css("display","flex"),$("#participant__form").attr("data-type","POST")}),$("tbody").on("click",".action-change",function(t){$("#modal").css("display","flex"),$("#participant__form").attr("data-type","PUT");t=t.target.closest(".table__row").querySelector(".table__id").textContent;$.get("".concat(window.location.href,"/").concat(t),function(t){$("#modal #id").val(t.id),$("#modal #name").val(t.name),$("#modal #capital").val(t.capital),$("#modal #address").val(t.address)})}),$("tbody").on("click",".action-remove",function(t){t={id:t.target.closest(".table__row").querySelector(".table__id").textContent};$.ajax({type:"DELETE",url:window.location.href,data:JSON.stringify(t),dataType:"json",contentType:"application/json"}).done(function(t){n(t)})}),$("#modal").on("click",function(t){(t.target.closest(".button__close")||t.target.closest(".cancel-button")||t.target.matches(".modal__overlay"))&&($(".modal__form").trigger("reset"),$("#modal").css("display","none"))})});